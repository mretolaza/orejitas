<main>
  <div class="position-relative">
    <!-- Hero for FREE version -->
    <section class="section section-lg section-hero section-shaped">
      <!-- Background circles -->
      <div class="shape shape-style-1 shape-primary">
        <span class="span-150"></span>
        <span class="span-50"></span>
        <span class="span-50"></span>
        <span class="span-75"></span>
        <span class="span-100"></span>
        <span class="span-75"></span>
        <span class="span-50"></span>
        <span class="span-100"></span>
        <span class="span-50"></span>
        <span class="span-100"></span>
      </div>
      <div class="container shape-container d-flex align-items-center">
        <div class="col px-0">

          <div class="row align-items-center justify-content-center">
            <h1 class="display-1 mb-0 text-white">Orejitas</h1>
            <div class="col-sm-12">

            </div>
            <div class="col-lg-9 text-center">
              <div class="btn-wrapper mt-5 mb-5" *ngIf="buttons">
                <button class="btn btn-lg btn-white btn-icon mb-3 mb-sm-0" (click)="goToForm(true)">
                  Crear una sala
                </button>
                <button class="btn btn-lg btn-github btn-icon mb-3 mb-sm-0" (click)="goToForm(false)">
                  Unirse a la sala
                </button>
                <button class="btn btn-lg btn-default btn-icon mb-3 mb-sm-0" (click)="faq(ayuda)">
                  Ayuda
                </button>
              </div>

              <div class="col-lg-9 ml-lg" *ngIf="!buttons && isEnter">
                <div class="card bg-secondary shadow border-0">
                  <div class="card-header bg-white pb-2">
                    <button class="btn btn-icon btn-3 btn-outline-primary rounded-pill" type="button"
                      (click)="backreturn()">
                      <span class="btn-inner--icon"><i class="ni ni-bold-left"></i></span>
                    </button>
                    <div class="btn-wrapper text-center">
                      <h3 class="mb-0">Crear una sala</h3>
                    </div>
                  </div>
                  <div class="card-body px-lg-5 py-lg-5">
                    <ngb-alert type="danger" [dismissible]="true" *ngIf="showed" (close)="close()">
                      <span class="alert-inner--text"> <strong>Error! </strong>{{ errorMessage }}</span>
                    </ngb-alert>
                    <form role="form" [formGroup]="roomCreateForm" (ngSubmit)="createRoom()">
                      <div class="form-group mb-3 border border-primary rounded" [ngClass]="{'focused':focus===true}">
                        <div class="input-group input-group-alternative">
                          <div class="input-group-prepend">
                            <span class="input-group-text"><i class="ni ni-controller"></i></span>
                          </div>
                          <input formControlName="name" required class="form-control" placeholder="Nombre sala"
                            type="text" (focus)="focus=true" (blur)="focus=false">
                        </div>
                      </div>
                      <div class="form-group mb-3 border border-primary rounded" [ngClass]="{'focused':focus===true}">
                        <textarea formControlName="description" required class="form-control form-control-alternative"
                          id="roomdesc" rows="3" placeholder="Ingresa la descripción de la sala"></textarea>
                      </div>
                      <h6 class="mb-2">Número de jugadores</h6>
                      <div class="row align-items-center justify-content-center">
                        <nav aria-label="jugadores">
                          <ul class="pagination">
                            <li class="page-item" (click)="setPreviousNum()">
                              <a class="page-link" href="javascript:void(0)" tabindex="-1">
                                <i class="fa fa-angle-left"></i>
                                <span class="sr-only">Previous</span>
                              </a>
                            </li>
                            <li [class]="classes[i]" *ngFor="let number of listnumberplayers; index as i"
                              (click)="setActiveNum(i)">
                              <a class="page-link" href="javascript:void(0)">{{number}} </a>
                            </li>
                            <li class="page-item" (click)="setNextNum()">
                              <a class="page-link" href="javascript:void(0)">
                                <i class="fa fa-angle-right"></i>
                                <span class="sr-only">Next</span>
                              </a>
                            </li>
                          </ul>
                        </nav>
                      </div>
                      <div class="form-group mb-3 border border-primary rounded" [ngClass]="{'focused':focus===true}">
                        <div class="input-group input-group-alternative">
                          <div class="input-group-prepend">
                            <span class="input-group-text"><i class="ni ni-circle-08"></i></span>
                          </div>
                          <input formControlName="ownerNickName" required class="form-control" placeholder="Apodo"
                            type="text" (focus)="focus=true" (blur)="focus=false">
                        </div>
                      </div>
                      <div class="text-center">
                        <button type="submit" class="btn btn-primary my-4">Crear</button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
              <div class="col-lg-9 ml-lg" *ngIf="!buttons && !isEnter">
                <div class="card bg-secondary shadow border-0">
                  <div class="card-header bg-white pb-2">
                    <button class="btn btn-icon btn-3 btn-outline-primary rounded-pill" type="button"
                      (click)="backreturn()">
                      <span class="btn-inner--icon"><i class="ni ni-bold-left"></i></span>
                    </button>
                    <div class="btn-wrapper text-center">
                      <h3 class="mb-0">Ingresar a una sala</h3>
                    </div>
                  </div>
                  <div class="card-body px-lg-5 py-lg-5">
                    <ngb-alert type="danger" [dismissible]="true" *ngIf="showed" (close)="close()">
                      <span class="alert-inner--text"> <strong>Error! </strong>{{ errorMessage }}</span>
                    </ngb-alert>
                    <form role="form" [formGroup]="roomEnterForm" (ngSubmit)="enterRoom()">
                      <div class="form-group mb-3 border border-primary rounded" [ngClass]="{'focused':focus===true}">
                        <div class="input-group input-group-alternative">
                          <div class="input-group-prepend">
                            <span class="input-group-text"><i class="ni ni-controller"></i></span>
                          </div>
                          <input formControlName="id" required class="form-control" minlength="6"
                            placeholder="Id de la sala" type="text" (focus)="focus=true" (blur)="focus=false">
                        </div>
                      </div>
                      <div class="form-group mb-3 border border-primary rounded" [ngClass]="{'focused':focus===true}">
                        <div class="input-group input-group-alternative">
                          <div class="input-group-prepend">
                            <span class="input-group-text"><i class="ni ni-circle-08"></i></span>
                          </div>
                          <input formControlName="playerNickName" required class="form-control" placeholder="Apodo"
                            type="text" (focus)="focus=true" (blur)="focus=false">
                        </div>
                      </div>

                      <div class="text-center">
                        <button type="submit" class="btn btn-primary my-4">Ingresar</button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- SVG separator -->
      <div class="separator separator-bottom separator-skew zindex-100">
        <svg x="0" y="0" viewBox="0 0 2560 100" preserveAspectRatio="none" version="1.1"
          xmlns="http://www.w3.org/2000/svg">
          <polygon class="fill-white" points="2560 0 2560 100 0 100"></polygon>
        </svg>
      </div>
    </section>
  </div>
</main>


<ng-template #ayuda let-c="close" let-d="dismiss">
  <div class="modal-content">
    <div class="modal-header">
      <h6 class="modal-title" id="modal-title-default">Orejitas</h6>
      <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="d('Cross click')">
        <span aria-hidden="true">×</span>
      </button>
    </div>
    <div class="modal-body">
      <p class="small">Orejitas es un juego de cartas con estrategia, que consiste en deshacerse de las cartas de la mano
        lo más pronto posible, gana el jugador que se quedé sin ninguna carta, o el que menos cartas tenga si se acaba
        el mazo.</p>
      <ul class="list-unstyled">
        <li class="py-2 text-danger">¿Cómo se juega OREJITAS?</li>
        <li class="py-2 small">Cuando ingresen todos los jugadores que tiene permitido la sala,
          entonces se realizará el reparto de cartas.</li>
        <li class="py-2 small">Cada jugador recibirá 5 cartas. Si juegan el máximo de jugadores permitido (7) entonces la mesa
          se quedará
          con 17 cartas para su interacción a lo largo del juego</li>
        <li class="py-2 small">Se seleccionar de forma aleatoria al primer jugador. Dicho jugador, establece la figura con la
          cual iniciará el juego.</li>
        <li class="py-2 small">Todos los jugadores deberán de colocar una carta de la misma figura para poder realizar una
          jugada correcta</li>
      </ul>
      <ul class="list-unstyled">
        <li class="py-2 text-danger">Modo: Cambio de JUEGO</li>
        <li class="py-2 small">Para poder realizar un cambio de juego, deberá de lanzar una carta con la misma figura del
          juego actual y deberá de seleccionar dentro de su mano una carta que sea mayor a la carta del jugador.</li>
        <li class="py-2 small">Los jugadores deberán de elegir una carta de la figura que marca el nuevo juego</li>
        <li class="py-2 small">Seleccionar cartas de la MESA</li>
        <li class="py-2 small">Si no tienes dentro de tu mano una carta de la misma figura que la carta que se encuentra en
          juego, podrás agarrar de la mesa hasta obtener una carta correcta.</li>
        <li class="py-2 small">Si la mesa se queda con 0 cartas entonces TERMINA EL JUEGO</li>
      </ul>
      <ul class="list-unstyled">
        <li class="py-2 text-danger">¿Quién es el GANADOR?</li>
        <li class="py-2 small">El primer jugador que tenga 0 cartas en su mano GANA</li>
        <li class="py-2 small">El jugador con la menor cantidad de cartas, si y solo sí, la mesa del juego se queda sin cartas
          para continuar</li>
      </ul>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-link  ml-auto" data-dismiss="modal" (click)="c('Close click')">OK</button>
    </div>
  </div>
</ng-template>